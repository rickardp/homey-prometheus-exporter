{"swagger":"2.0","info":{"version":"0.0.0","title":"ManagerDrivers","description":"ManagerDrivers","termsOfService":"https://legal.athom.com","contact":{"name":"Athom API Team"},"license":{"name":"GPL-3.0"}},"basePath":"/api/manager/drivers","x-realtime-namespace":"/realtime/manager/drivers/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/driver":{"get":{"responses":{"200":{"schema":{"type":"array","items":{"$ref":"#/definitions/Driver"}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"x-homey-filterable":true,"parameters":[],"operationId":"getDrivers","security":[{"homey_auth":["homey.device.readonly"]}]}},"/driver/{uri}/{id}":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/Driver"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"getDriver","security":[{"homey_auth":["homey.device"]}]}},"/pairsession":{"get":{"responses":{"200":{"schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/PairSession"}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getPairSessions","security":[{"homey_auth":["homey.device"]}]},"post":{"responses":{"200":{"schema":{"$ref":"#/definitions/PairSession"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"in":"body","name":"pairsession","required":true,"schema":{"$ref":"#/definitions/PairSession"}}],"operationId":"createPairSession","security":[{"homey_auth":["homey.device"]}]}},"/pairsession/{id}":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/PairSession"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"getPairSession","security":[{"homey_auth":["homey.device"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deletePairSession","security":[{"homey_auth":["homey.device"]}]}},"/pairsession/{id}/emit":{"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"event":{"type":"string"},"data":{}},"required":["event","data"]},"x-unpack-parameters":true}],"operationId":"emitPairingEvent","security":[{"homey_auth":["homey.device"]}]}},"/pairsession/{id}/callback":{"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"callbackId":{"type":"string"},"data":{"type":"object"}},"required":["callbackId"]},"x-unpack-parameters":true}],"operationId":"emitPairingCallback","security":[{"homey_auth":["homey.device"]}]}},"/pairsession/{id}/heartbeat":{"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"emitPairingHeartbeat","security":[{"homey_auth":["homey.device"]}]}},"/pairsession/{id}/device":{"post":{"responses":{"200":{"schema":{"$ref":"#/definitions/Device"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"in":"body","name":"device","required":true,"schema":{"$ref":"#/definitions/Device"}}],"operationId":"createPairSessionDevice","security":[{"homey_auth":["homey.device"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deletePairSessionDevice","security":[{"homey_auth":["homey.device"]}]}}},"definitions":{"Error":{"type":"object","properties":{"code":{"type":"number"},"error":{"type":"string"},"error_description":{"type":"string"},"$stack":{"type":"string"}}},"Driver":{"type":"object","properties":{"id":{"type":"string"},"uri":{"type":"string"},"uriObj":{"type":"object"},"icon":{"type":"string"},"iconObj":{"x-homey-updateable":false,"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"}}},"ready":{"type":"boolean"},"pair":{"type":"boolean"},"unpair":{"type":"boolean"},"repair":{"type":"boolean"},"color":{"type":"string"},"deprecated":{"type":"boolean"},"class":{"type":"string"},"connectivity":{"type":"array"}},"x-realtime-bindings":{"read":"getDriver","create":"driver.create","update":"driver.update","delete":"driver.delete"}},"Device":{"type":"object","properties":{"id":{"x-homey-readonly":true,"type":"string","format":"uuid"},"name":{"type":"string"},"driverUri":{"x-homey-updateable":false,"type":"string"},"driverId":{"x-homey-updateable":false,"type":"string"},"zone":{"type":"string","description":"The id of the device's zone."},"data":{"x-homey-updateable":false,"type":"object"},"icon":{"type":"string"},"iconObj":{"x-homey-updateable":false,"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"}}},"iconOverride":{"type":["string","null"]},"settings":{"x-homey-updateable":false,"type":"object"},"settingsObj":{"x-homey-updateable":false,"type":"boolean","description":"This property is true when there are settings, getable by the getDeviceSettingsObj method"},"class":{"x-homey-updateable":false,"type":"string"},"energy":{"x-homey-updateable":false,"type":"object","properties":{"approximation":{"type":"object","properties":{"usageOn":{"type":"number"},"usageOff":{"type":"number"},"usageConstant":{"type":"number"}}},"cumulative":{"type":"boolean"},"batteries":{"type":"array","items":{"type":"string"}}}},"energyObj":{"x-homey-updateable":false,"type":"object"},"virtualClass":{"type":["string","null"]},"ui":{"x-homey-updateable":false,"type":"object","properties":{"quickAction":{"type":"string","description":"Optional capabilityId of the quick action"},"components":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID of the UI component"},"capabilities":{"type":"array","description":"An array of capabilityIds","items":{"type":"string"}}}}}}},"uiIndicator":{"type":["string","null"]},"capabilities":{"x-homey-updateable":false,"type":"array","items":{"type":"string"}},"capabilitiesObj":{"x-homey-updateable":false,"type":"object","additionalProperties":{"type":"object","properties":{"id":{"type":"string"},"uri":{"type":"string"},"title":{"type":"string"},"desc":{"type":"string"},"type":{"type":"string","enum":["boolean","number","string","enum"]},"getable":{"type":"boolean"},"setable":{"type":"boolean"},"chartType":{"type":"string","enum":["line","area","stepLine","column","spline","splineArea","scatter"]},"decimals":{"type":"number"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"units":{"type":"string"},"values":{"type":"array","items":{"type":"object","required":["id","title"],"properties":{"id":{"type":"string"},"title":{"type":"string"}}}},"value":{"type":"object"},"lastUpdated":{"type":"string","format":"date-time"},"options":{"type":"object"}}}},"capabilitiesOptions":{"x-homey-updateable":false,"type":"object"},"flags":{"x-homey-readonly":true,"type":"array","items":{"type":"string"}},"ready":{"x-homey-readonly":true,"type":"boolean","description":"A device is when the device's driver is available and ready."},"available":{"x-homey-readonly":true,"type":"boolean","description":"A device can be available or unavailable, decided by the device's driver. If the driver is unavailable, the property `unavailableMessage` might be set. For example, a device can be unavailable when there is no wireless connection possible."},"repair":{"x-homey-readonly":true,"type":"boolean","description":"If true, this device can be repaired using a repair PairSession."},"unpair":{"x-homey-readonly":true,"type":"boolean","description":"If true, this device needs to be deleted using an unpair PairSession."},"unavailableMessage":{"x-homey-readonly":true,"type":"string"},"images":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["media","camera"]},"id":{"type":"string"},"imageObj":{"x-base-class":"ManagerImages.Image","x-homey-updateable":false,"type":"object","properties":{"id":{"type":"string"},"ownerUri":{"type":"string"},"url":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"}}}}}},"insights":{"type":"array","items":{"type":"object","properties":{"uri":{"type":"string"},"id":{"type":"string"},"title":{"type":"string"},"titleTrue":{"type":"string"},"titleFalse":{"type":"string"},"units":{"type":"string"},"decimals":{"type":"number"}}}},"color":{"type":"string"}}},"PairSession":{"type":"object","required":["type"],"properties":{"id":{"x-homey-readonly":true,"type":"string"},"type":{"type":"string","enum":["pair","unpair","repair"]},"driverId":{"type":"string"},"driverUri":{"type":"string"},"deviceId":{"type":"string"},"zoneId":{"type":"string"},"views":{"x-homey-readonly":true,"type":"array"}},"x-realtime-bindings":{"read":"getPairSession","create":"pairsession.create","update":"pairsession.update","delete":"pairsession.delete"}}},"x-realtime-events":{"driver.create":{"description":"Fired when a managed Driver is created","parameters":[{"name":"driver","schema":{"$ref":"#/definitions/Driver"},"description":"The affected Driver"}]},"driver.update":{"description":"Fired when a managed Driver is changed","parameters":[{"name":"driver","schema":{"$ref":"#/definitions/Driver"},"description":"The affected Driver"}]},"driver.delete":{"description":"Fired when a managed Driver has been deleted","parameters":[{"name":"driver","schema":{"$ref":"#/definitions/Driver"},"description":"The affected Driver"}]},"pairsession.create":{"description":"Fired when a managed PairSession is created","parameters":[{"name":"pairsession","schema":{"$ref":"#/definitions/PairSession"},"description":"The affected PairSession"}]},"pairsession.update":{"description":"Fired when a managed PairSession is changed","parameters":[{"name":"pairsession","schema":{"$ref":"#/definitions/PairSession"},"description":"The affected PairSession"}]},"pairsession.delete":{"description":"Fired when a managed PairSession has been deleted","parameters":[{"name":"pairsession","schema":{"$ref":"#/definitions/PairSession"},"description":"The affected PairSession"}]}},"securityDefinitions":{"homey_auth":{"type":"oauth2","flow":"accessCode","authorizationUrl":"https://api.athom.com/oauth2/authorise","tokenUrl":"https://api.athom.com/oauth2/token","description":"Homey Session Token","scopes":{"homey.device.readonly":"homey.device.readonly","homey.device":"homey.device"}}}}