{"swagger":"2.0","info":{"version":"0.0.0","title":"ManagerInsights","description":"ManagerInsights","termsOfService":"https://legal.athom.com","contact":{"name":"Athom API Team"},"license":{"name":"GPL-3.0"}},"basePath":"/api/manager/insights","x-realtime-namespace":"/realtime/manager/insights/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/log/":{"get":{"responses":{"200":{"schema":{"type":"array","items":{"$ref":"#/definitions/Log"}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"x-homey-filterable":true,"parameters":[],"operationId":"getLogs","security":[{"homey_auth":["homey.insights.readonly"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"deleteLogs","security":[{"homey_auth":["homey.insights"]}]}},"/log/{uri}/{id}":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/Log"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"getLog","security":[{"homey_auth":["homey.insights.readonly"]}]},"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"},{"in":"body","name":"log","required":true,"schema":{"$ref":"#/definitions/Log"}}],"operationId":"updateLog","security":[{"homey_auth":["homey.insights"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deleteLog","security":[{"homey_auth":["homey.insights"]}]}},"/log/{uri}/{id}/entry":{"get":{"responses":{"200":{"schema":{"type":"object","properties":{"values":{"type":"array","items":{"type":"object","properties":{"t":{"type":"string","format":"date-time"},"v":{"type":"number"},"originUserId":{"type":"string"},"originUserName":{"type":"string"},"originClientId":{"type":"string"},"originClientName":{"type":"string"},"originName":{"type":"string"},"originUri":{"type":"string"}}}},"start":{"type":"string","format":"date-time"},"end":{"type":"string","format":"date-time"},"step":{"type":"number","description":"stepsize in milliseconds"},"uri":{"type":"string"},"id":{"type":"string"},"lastValue":{"type":"number"},"updatesIn":{"type":"number","description":"milliseconds till next update"}}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"},{"in":"query","name":"resolution","description":"The timespan to query","type":"string","enum":["lastHour","lastHourLowRes","last6Hours","last6HoursLowRes","last24Hours","last3Days","last7Days","last14Days","last31Days","last3Months","last6Months","last2Years","today","thisWeek","thisMonth","thisYear","yesterday","lastWeek","lastMonth","lastYear"]}],"operationId":"getLogEntries","security":[{"homey_auth":["homey.insights.readonly"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deleteLogEntries","security":[{"homey_auth":["homey.insights"]}]}},"/storage":{"get":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getStorageInfo","x-since":"1.5.0","security":[{"homey_auth":["homey.insights.readonly"]}]}}},"definitions":{"Error":{"type":"object","properties":{"code":{"type":"number"},"error":{"type":"string"},"error_description":{"type":"string"},"$stack":{"type":"string"}}},"Log":{"type":"object","properties":{"uri":{"x-homey-readonly":true,"type":"string"},"id":{"x-homey-readonly":true,"type":"string"},"title":{"x-homey-readonly":true,"type":"string"},"type":{"x-homey-readonly":true,"type":"string","enum":["number","boolean"]},"units":{"x-homey-readonly":true,"type":"string"},"decimals":{"x-homey-readonly":true,"type":"number"},"lastValue":{"type":"number"}},"x-realtime-bindings":{"read":"getLog","create":"log.create","update":"log.update","delete":"log.delete"}}},"x-realtime-events":{"log.create":{"description":"Fired when a managed Log is created","parameters":[{"name":"log","schema":{"$ref":"#/definitions/Log"},"description":"The affected Log"}]},"log.update":{"description":"Fired when a managed Log is changed","parameters":[{"name":"log","schema":{"$ref":"#/definitions/Log"},"description":"The affected Log"}]},"log.delete":{"description":"Fired when a managed Log has been deleted","parameters":[{"name":"log","schema":{"$ref":"#/definitions/Log"},"description":"The affected Log"}]}},"securityDefinitions":{"homey_auth":{"type":"oauth2","flow":"accessCode","authorizationUrl":"https://api.athom.com/oauth2/authorise","tokenUrl":"https://api.athom.com/oauth2/token","description":"Homey Session Token","scopes":{"homey.insights.readonly":"homey.insights.readonly","homey.insights":"homey.insights"}}}}