{"swagger":"2.0","info":{"version":"0.0.0","title":"ManagerUpdates","description":"ManagerUpdates","termsOfService":"https://legal.athom.com","contact":{"name":"Athom API Team"},"license":{"name":"GPL-3.0"},"x-hide-docs":true},"basePath":"/api/manager/updates","x-realtime-namespace":"/realtime/manager/updates/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/whatsnew/":{"get":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getWhatsNew","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/whatsnew/{id}":{"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"setWhatsNewRead","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/update":{"get":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"in":"query","name":"cache","required":false,"type":"boolean","default":true},{"in":"query","name":"flags","required":false,"type":"string","default":""}],"operationId":"getUpdates","security":[{"homey_auth":["homey.updates.readonly"]}]},"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"installUpdate","security":[{"homey_auth":["homey.updates"]}]}},"/state":{"get":{"responses":{"200":{"description":"The state of this manager","schema":{"type":"object"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getState","description":"Gets this manager's state","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/option/channel":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"value":{"type":"string","enum":["stable","beta"],"default":"stable","scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"required":["value"]},"x-unpack-parameters":true}],"operationId":"setOptionChannel","security":[{"homey_auth":["homey.updates"]}]},"get":{"responses":{"200":{"type":"object","properties":{"value":{"type":"string","enum":["stable","beta"],"default":"stable","scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getOptionChannel","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/option/autoupdate":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"value":{"type":"boolean","default":true,"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"required":["value"]},"x-unpack-parameters":true}],"operationId":"setOptionAutoupdate","security":[{"homey_auth":["homey.updates"]}]},"get":{"responses":{"200":{"type":"object","properties":{"value":{"type":"boolean","default":true,"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getOptionAutoupdate","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/option/forceChannel":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"value":{"type":"string","default":null,"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"required":["value"]},"x-unpack-parameters":true}],"operationId":"setOptionForceChannel","security":[{"homey_auth":["homey.updates"]}]},"get":{"responses":{"200":{"type":"object","properties":{"value":{"type":"string","default":null,"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getOptionForceChannel","security":[{"homey_auth":["homey.updates.readonly"]}]}},"/option/updateNotifications":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"value":{"type":"array","items":{"type":"string"},"default":[],"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"required":["value"]},"x-unpack-parameters":true}],"operationId":"setOptionUpdateNotifications","security":[{"homey_auth":["homey.updates"]}]},"get":{"responses":{"200":{"type":"object","properties":{"value":{"type":"array","items":{"type":"string"},"default":[],"scopesGet":["UPDATES_READONLY"],"scopesSet":["UPDATES"]}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getOptionUpdateNotifications","security":[{"homey_auth":["homey.updates.readonly"]}]}}},"definitions":{"Error":{"type":"object","properties":{"code":{"type":"number"},"error":{"type":"string"},"error_description":{"type":"string"},"$stack":{"type":"string"}}}},"x-realtime-events":{"download_start":{"description":"When an update download has started"},"download_progress":{"description":"When an update download has made progress","parameters":[{"name":"percent","type":"number","minimum":0,"maximum":100}]},"download_done":{"description":"When an update download finished"},"download_error":{"description":"When an update download has errored"},"install_start":{"description":"When an update has started installation (unpacking)"},"install_error":{"description":"When an update has errored during installation (unpacking)"},"install_done":{"description":"When an update has finished installation (unpacking). Homey will reboot momentarily."},"state":{"description":"Emits when the state of the manager changes","parameters":[{"name":"state","description":"The new state","type":"object"}]}},"securityDefinitions":{"homey_auth":{"type":"oauth2","flow":"accessCode","authorizationUrl":"https://api.athom.com/oauth2/authorise","tokenUrl":"https://api.athom.com/oauth2/token","description":"Homey Session Token","scopes":{"homey.updates.readonly":"homey.updates.readonly","homey.updates":"homey.updates"}}}}