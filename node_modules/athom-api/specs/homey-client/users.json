{"swagger":"2.0","info":{"version":"0.0.0","title":"ManagerUsers","description":"ManagerUsers","termsOfService":"https://legal.athom.com","contact":{"name":"Athom API Team"},"license":{"name":"GPL-3.0"}},"basePath":"/api/manager/users","x-realtime-namespace":"/realtime/manager/users/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/login":{"post":{"responses":{"200":{"description":"A Bearer token, to be used by the authorization header","schema":{"type":"string"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"x-unpack-parameters":true}],"operationId":"login","description":"Exchange a delegation token for a session bearer token"}},"/user":{"get":{"responses":{"200":{"schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/User"}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"x-homey-filterable":true,"parameters":[],"operationId":"getUsers","security":[{"homey_auth":["homey.user.readonly"]}]},"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"in":"body","name":"user","required":true,"schema":{"$ref":"#/definitions/User"}}],"operationId":"createUser","security":[{"homey_auth":["homey.user"]}]}},"/user/me":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/User"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getUserMe","security":[{"homey_auth":["homey.user.self"]}]},"put":{"responses":{"200":{"schema":{"$ref":"#/definitions/User"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"name":{},"email":{}}},"x-unpack-parameters":true}],"operationId":"updateUserMe","security":[{"homey_auth":["homey.user.self"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"deleteUserMe","security":[{"homey_auth":["homey.user.self"]}]}},"/user/{id}":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/User"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"getUser","security":[{"homey_auth":["homey.user.readonly"]}]},"put":{"responses":{"200":{"schema":{"$ref":"#/definitions/User"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"in":"body","name":"user","required":true,"schema":{"$ref":"#/definitions/User"}}],"operationId":"updateUser","security":[{"homey_auth":["homey.user"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deleteUser","security":[{"homey_auth":["homey.user"]}]}},"/user/me/properties/{id}":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"value":{"type":"object"}},"required":["value"]},"x-unpack-parameters":true}],"operationId":"updateUserMeProperties","security":[{"homey_auth":["homey.user.self"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deleteUserMeProperties","security":[{"homey_auth":["homey.user.self"]}]}},"/swap-owner":{"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"newOwnerUserId":{"type":"string"}},"required":["newOwnerUserId"]},"x-unpack-parameters":true}],"operationId":"swapOwner","security":[{"homey_auth":["homey.user"]}]}},"/state":{"get":{"responses":{"200":{"description":"The state of this manager","schema":{"type":"object"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getState","description":"Gets this manager's state","security":[{"homey_auth":["homey.user.readonly"]}]}}},"definitions":{"Error":{"type":"object","properties":{"code":{"type":"number"},"error":{"type":"string"},"error_description":{"type":"string"},"$stack":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"x-homey-readonly":true,"type":"string","format":"uuid"},"name":{"type":"string"},"athomId":{"x-homey-readonly":true,"type":"string"},"properties":{"type":"object"},"enabled":{"type":"boolean"},"verified":{"x-homey-readonly":true,"type":"boolean"},"role":{"type":"string","enum":["manager","user","guest"]},"present":{"x-homey-readonly":true,"type":"boolean"},"asleep":{"x-homey-readonly":true,"type":"boolean"}},"x-realtime-bindings":{"read":"getUser","create":"user.create","update":"user.update","delete":"user.delete"}}},"x-realtime-events":{"user.create":{"description":"Fired when a managed User is created","parameters":[{"name":"user","schema":{"$ref":"#/definitions/User"},"description":"The affected User"}]},"user.update":{"description":"Fired when a managed User is changed","parameters":[{"name":"user","schema":{"$ref":"#/definitions/User"},"description":"The affected User"}]},"user.delete":{"description":"Fired when a managed User has been deleted","parameters":[{"name":"user","schema":{"$ref":"#/definitions/User"},"description":"The affected User"}]},"state":{"description":"Emits when the state of the manager changes","parameters":[{"name":"state","description":"The new state","type":"object"}]}},"securityDefinitions":{"homey_auth":{"type":"oauth2","flow":"accessCode","authorizationUrl":"https://api.athom.com/oauth2/authorise","tokenUrl":"https://api.athom.com/oauth2/token","description":"Homey Session Token","scopes":{"homey.user.readonly":"homey.user.readonly","homey.user.self":"homey.user.self","homey.user":"homey.user"}}}}