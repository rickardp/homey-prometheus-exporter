{"swagger":"2.0","info":{"version":"0.0.0","title":"ManagerNotifications","description":"ManagerNotifications","termsOfService":"https://legal.athom.com","contact":{"name":"Athom API Team"},"license":{"name":"GPL-3.0"}},"basePath":"/api/manager/notifications","x-realtime-namespace":"/realtime/manager/notifications/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/notification/":{"get":{"responses":{"200":{"schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/Notification"}},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"x-homey-filterable":true,"parameters":[],"operationId":"getNotifications","security":[{"homey_auth":["homey.notifications.readonly"]}]}},"/notification/{id}":{"get":{"responses":{"200":{"schema":{"$ref":"#/definitions/Notification"},"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"getNotification","security":[{"homey_auth":["homey.notifications.readonly"]}]},"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"deleteNotification","security":[{"homey_auth":["homey.notifications"]}]}},"/notification/{id}/read":{"post":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"operationId":"setNotificationRead","security":[{"homey_auth":["homey.notifications.readonly"]}]}},"/notification":{"delete":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"ownerUri","type":"string","in":"query"}],"operationId":"deleteNotifications","security":[{"homey_auth":["homey.notifications"]}]}},"/owner":{"get":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[],"operationId":"getOwners","security":[{"homey_auth":["homey.notifications.readonly"]}]}},"/owner/{uri}/enabled":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"enabled":{"type":"boolean"}},"required":["enabled"]},"x-unpack-parameters":true}],"operationId":"setOwnerEnabled","security":[{"homey_auth":["homey.notifications"]}]}},"/owner/{uri}/push":{"put":{"responses":{"200":{"description":"Successful response"},"default":{"description":"Error","schema":{"$ref":"#/definitions/Error"}}},"parameters":[{"name":"uri","in":"path","required":true,"type":"string"},{"name":"data","in":"body","required":true,"schema":{"type":"object","properties":{"push":{"type":"boolean"}},"required":["push"]},"x-unpack-parameters":true}],"operationId":"setOwnerPush","security":[{"homey_auth":["homey.notifications"]}]}}},"definitions":{"Error":{"type":"object","properties":{"code":{"type":"number"},"error":{"type":"string"},"error_description":{"type":"string"},"$stack":{"type":"string"}}},"Notification":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"ownerUri":{"type":"string"},"dateCreated":{"type":"object","format":"date-time"},"dateExpires":{"type":"string","format":"date-time"},"excerpt":{"type":"string"},"icon":{"type":"string"},"iconObj":{"x-homey-updateable":false,"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"}}},"priority":{"type":"string"},"readBy":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string"}},"meta":{"type":"object","description":"Free-form metadata of the notification"}},"x-realtime-bindings":{"read":"getNotification","create":"notification.create","update":"notification.update","delete":"notification.delete"}}},"x-realtime-events":{"notification.create":{"description":"Fired when a managed Notification is created","parameters":[{"name":"notification","schema":{"$ref":"#/definitions/Notification"},"description":"The affected Notification"}]},"notification.update":{"description":"Fired when a managed Notification is changed","parameters":[{"name":"notification","schema":{"$ref":"#/definitions/Notification"},"description":"The affected Notification"}]},"notification.delete":{"description":"Fired when a managed Notification has been deleted","parameters":[{"name":"notification","schema":{"$ref":"#/definitions/Notification"},"description":"The affected Notification"}]}},"securityDefinitions":{"homey_auth":{"type":"oauth2","flow":"accessCode","authorizationUrl":"https://api.athom.com/oauth2/authorise","tokenUrl":"https://api.athom.com/oauth2/token","description":"Homey Session Token","scopes":{"homey.notifications.readonly":"homey.notifications.readonly","homey.notifications":"homey.notifications"}}}}